<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8" />
    <title>Johann Pachelbel – Recap-Quiz</title>
    <style>
        :root {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            color-scheme: light;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            background: radial-gradient(circle at top left, #e4ecff, #f7f8fc);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quiz-shell {
            width: 100%;
            max-width: 720px;
            padding: 24px;
        }

        .quiz-card {
            background: #ffffff;
            border-radius: 18px;
            box-shadow: 0 18px 40px rgba(15, 23, 42, 0.09);
            padding: 24px 24px 20px;
        }

        header {
            margin-bottom: 18px;
        }

        h1 {
            font-size: 22px;
            margin: 0 0 4px;
        }

        .subtitle {
            font-size: 13px;
            color: #6b7280;
        }

        .progress-wrapper {
            margin-top: 16px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 4px;
        }

        .progress-bar {
            position: relative;
            height: 6px;
            border-radius: 999px;
            background: #e5e7eb;
            overflow: hidden;
        }

        .progress-fill {
            position: absolute;
            inset: 0;
            width: 0%;
            border-radius: inherit;
            background: linear-gradient(90deg, #2563eb, #4f46e5);
            transition: width 0.3s ease;
        }

        .question {
            display: none;
            margin-top: 16px;
        }

        .question.active {
            display: block;
        }

        .question-title {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 12px;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        label.option {
            border-radius: 10px;
            border: 1px solid #e5e7eb;
            padding: 8px 10px;
            font-size: 14px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: border-color 0.15s ease, background-color 0.15s ease, box-shadow 0.15s ease;
        }

        label.option:hover {
            border-color: #2563eb;
            background-color: #eff6ff;
            box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.25);
        }

        input[type="radio"] {
            accent-color: #2563eb;
        }

        .nav {
            display: flex;
            justify-content: flex-end;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
        }

        .nav-left {
            margin-right: auto;
            font-size: 12px;
            color: #9ca3af;
        }

        button {
            border: none;
            border-radius: 999px;
            padding: 9px 16px;
            font-size: 14px;
            cursor: pointer;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        button.primary {
            background: #2563eb;
            color: white;
            box-shadow: 0 10px 18px rgba(37, 99, 235, 0.28);
        }

        button.primary:disabled {
            opacity: 0.35;
            cursor: default;
            box-shadow: none;
        }

        button.secondary {
            background: transparent;
            color: #6b7280;
        }

        button.secondary:hover {
            background: #f3f4f6;
        }

        #result {
            margin-top: 12px;
            font-size: 14px;
            font-weight: 500;
            text-align: center;
            color: #111827;
        }

        .result-detail {
            margin-top: 4px;
            font-size: 12px;
            color: #6b7280;
            text-align: center;
        }

        @media (max-width: 600px) {
            .quiz-card {
                padding: 18px 16px 16px;
                border-radius: 14px;
            }

            h1 {
                font-size: 18px;
            }
        }
    </style>
</head>
<body>
<div class="quiz-shell">
    <div class="quiz-card">
        <header>
            <h1>Pachelbel – Recap-Quiz</h1>
            <div class="subtitle">
                Kurzer Wissens-Check nach der Präsentation. Pro Screen siehst du genau eine Frage.
            </div>
            <div class="progress-wrapper">
                <div class="progress-label">
                    <span id="progressText">Frage 1 von 9</span>
                    <span id="progressPercent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
        </header>

        <form id="quizForm">
            <!-- Frage 1 -->
            <div class="question active" data-question-id="q1">
                <div class="question-title">
                    1. Wann wurde Johann Pachelbel getauft?
                </div>
                <div class="options">
                    <label class="option"><input type="radio" name="q1" value="a"> 01.09.1643</label>
                    <label class="option"><input type="radio" name="q1" value="b"> 01.09.1653</label>
                    <label class="option"><input type="radio" name="q1" value="c"> 03.03.1706</label>
                    <label class="option"><input type="radio" name="q1" value="d"> 1695</label>
                </div>
            </div>

            <!-- Frage 2 -->
            <div class="question" data-question-id="q2">
                <div class="question-title">
                    2. In welchem Zeitraum studierte Pachelbel laut Präsentation?
                </div>
                <div class="options">
                    <label class="option"><input type="radio" name="q2" value="a"> 1600–1604</label>
                    <label class="option"><input type="radio" name="q2" value="b"> 1669–1673</label>
                    <label class="option"><input type="radio" name="q2" value="c"> 1673–1677</label>
                    <label class="option"><input type="radio" name="q2" value="d"> 1690–1692</label>
                </div>
            </div>

            <!-- Frage 3 -->
            <div class="question" data-question-id="q3">
                <div class="question-title">
                    3. Welche Tätigkeit übte Pachelbel von 1673 bis 1677 aus?
                </div>
                <div class="options">
                    <label class="option"><input type="radio" name="q3" value="a"> Hofkomponist in Wien</label>
                    <label class="option"><input type="radio" name="q3" value="b"> Hilfsorganist bei Bachs Bruder</label>
                    <label class="option"><input type="radio" name="q3" value="c"> Kantor in Leipzig</label>
                    <label class="option"><input type="radio" name="q3" value="d"> Konzertmeister in Paris</label>
                </div>
            </div>

            <!-- Frage 4 -->
            <div class="question" data-question-id="q4">
                <div class="question-title">
                    4. Mit welcher Stadt ist das Jahr 1678 verbunden?
                </div>
                <div class="options">
                    <label class="option"><input type="radio" name="q4" value="a"> Erfurt</label>
                    <label class="option"><input type="radio" name="q4" value="b"> Eisenach</label>
                    <label class="option"><input type="radio" name="q4" value="c"> Stuttgart</label>
                    <label class="option"><input type="radio" name="q4" value="d"> Nürnberg</label>
                </div>
            </div>

            <!-- Frage 5 -->
            <div class="question" data-question-id="q5">
                <div class="question-title">
                    5. Welche Reihenfolge seiner späteren Wirkungsorte passt zu den Jahreszahlen?
                    (1678, 1690, 1692)
                </div>
                <div class="options">
                    <label class="option"><input type="radio" name="q5" value="a"> Erfurt – Stuttgart – Eisenach</label>
                    <label class="option"><input type="radio" name="q5" value="b"> Stuttgart – Erfurt – Eisenach</label>
                    <label class="option"><input type="radio" name="q5" value="c"> Eisenach – Erfurt – Stuttgart</label>
                    <label class="option"><input type="radio" name="q5" value="d"> Eisenach – Stuttgart – Erfurt</label>
                </div>
            </div>

            <!-- Frage 6 -->
            <div class="question" data-question-id="q6">
                <div class="question-title">
                    6. In welchem Jahr kehrte Pachelbel nach Nürnberg zurück?
                </div>
                <div class="options">
                    <label class="option"><input type="radio" name="q6" value="a"> 1685</label>
                    <label class="option"><input type="radio" name="q6" value="b"> 1695</label>
                    <label class="option"><input type="radio" name="q6" value="c"> 1706</label>
                    <label class="option"><input type="radio" name="q6" value="d"> 1710</label>
                </div>
            </div>

            <!-- Frage 7 -->
            <div class="question" data-question-id="q7">
                <div class="question-title">
                    7. An welchem Datum starb Johann Pachelbel?
                </div>
                <div class="options">
                    <label class="option"><input type="radio" name="q7" value="a"> 01.09.1653</label>
                    <label class="option"><input type="radio" name="q7" value="b"> 03.03.1706</label>
                    <label class="option"><input type="radio" name="q7" value="c"> 31.12.1690</label>
                    <label class="option"><input type="radio" name="q7" value="d"> 14.07.1717</label>
                </div>
            </div>

            <!-- Frage 8 -->
            <div class="question" data-question-id="q8">
                <div class="question-title">
                    8. Welches Werk gehört <u>nicht</u> zu den wichtigsten Werken,
                    die in der Präsentation genannt wurden?
                </div>
                <div class="options">
                    <label class="option"><input type="radio" name="q8" value="a"> Choralsammlung</label>
                    <label class="option"><input type="radio" name="q8" value="b"> Fugen</label>
                    <label class="option"><input type="radio" name="q8" value="c"> Kanon in D</label>
                    <label class="option"><input type="radio" name="q8" value="d"> Die Zauberflöte</label>
                </div>
            </div>

            <!-- Frage 9 -->
            <div class="question" data-question-id="q9">
                <div class="question-title">
                    9. Wodurch zeigt sich Pachelbels Einfluss heute laut Präsentation?
                </div>
                <div class="options">
                    <label class="option">
                        <input type="radio" name="q9" value="a">
                        Nur in der Kirchenmusik, sonst nirgends
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="b">
                        In Veranstaltungen und Popsongs, z.&nbsp;B. „Memories“ von Maroon&nbsp;5
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="c">
                        Ausschließlich in Opern
                    </label>
                    <label class="option">
                        <input type="radio" name="q9" value="d">
                        Überhaupt nicht mehr – er ist vergessen
                    </label>
                </div>
            </div>
        </form>

        <div class="nav">
            <div class="nav-left" id="navHint">
                Antwort auswählen, dann „Weiter“.
            </div>
            <button type="button" class="secondary" id="restartBtn" style="display:none;">
                Nochmal starten
            </button>
            <button type="button" class="primary" id="nextBtn" disabled>
                Weiter
                <span id="nextIcon">➜</span>
            </button>
        </div>

        <div id="result"></div>
        <div class="result-detail" id="resultDetail"></div>
    </div>
</div>

<script>
    // richtige Antworten
    const correctAnswers = {
        q1: "b",
        q2: "b",
        q3: "b",
        q4: "b",
        q5: "c",
        q6: "b",
        q7: "b",
        q8: "d",
        q9: "b"
    };

    const questions = Array.from(document.querySelectorAll(".question"));
    const totalQuestions = questions.length;

    let currentIndex = 0;

    const quizForm = document.getElementById("quizForm");
    const nextBtn = document.getElementById("nextBtn");
    const restartBtn = document.getElementById("restartBtn");
    const progressText = document.getElementById("progressText");
    const progressPercent = document.getElementById("progressPercent");
    const progressFill = document.getElementById("progressFill");
    const resultDiv = document.getElementById("result");
    const resultDetailDiv = document.getElementById("resultDetail");
    const navHint = document.getElementById("navHint");
    const nextIcon = document.getElementById("nextIcon");

    function updateProgress() {
        const questionNumber = currentIndex + 1;
        const percent = Math.round((currentIndex / totalQuestions) * 100);
        progressText.textContent = "Frage " + questionNumber + " von " + totalQuestions;
        progressPercent.textContent = percent + "%";
        progressFill.style.width = percent + "%";

        if (questionNumber === totalQuestions) {
            nextBtn.textContent = "Auswerten";
            nextBtn.insertAdjacentText("beforeend", "");
        } else {
            nextBtn.innerHTML = 'Weiter <span id="nextIcon">➜</span>';
        }
    }

    function showQuestion(index) {
        questions.forEach((q, i) => {
            q.classList.toggle("active", i === index);
        });
        currentIndex = index;
        updateProgress();
        lockNextUntilAnswered();
    }

    function lockNextUntilAnswered() {
        const qDiv = questions[currentIndex];
        const qId = qDiv.getAttribute("data-question-id");
        const checked = quizForm.querySelector('input[name="' + qId + '"]:checked');
        nextBtn.disabled = !checked;
    }

    // Inputs beobachten, damit der "Weiter"-Button freigeschaltet wird
    questions.forEach(qDiv => {
        const qId = qDiv.getAttribute("data-question-id");
        const radios = qDiv.querySelectorAll('input[name="' + qId + '"]');
        radios.forEach(r => {
            r.addEventListener("change", () => {
                if (questions[currentIndex] === qDiv) {
                    nextBtn.disabled = false;
                }
            });
        });
    });

    nextBtn.addEventListener("click", function () {
        if (currentIndex < totalQuestions - 1) {
            showQuestion(currentIndex + 1);
            resultDiv.textContent = "";
            resultDetailDiv.textContent = "";
        } else {
            // Auswertung
            let score = 0;
            let answered = 0;

            Object.keys(correctAnswers).forEach(qId => {
                const checked = quizForm.querySelector('input[name="' + qId + '"]:checked');
                if (checked) {
                    answered++;
                    if (checked.value === correctAnswers[qId]) {
                        score++;
                    }
                }
            });

            resultDiv.textContent = "Ergebnis: " + score + " von " + totalQuestions + " korrekt.";
            resultDetailDiv.textContent =
                "Du hast " + answered + " Fragen beantwortet. Nutze das Quiz gerne mehrfach als Recap.";

            // Abschluss-Progress auf 100%
            progressPercent.textContent = "100%";
            progressFill.style.width = "100%";
            navHint.textContent = "Fertig. Du kannst das Quiz neu starten.";
            nextBtn.style.display = "none";
            restartBtn.style.display = "inline-flex";
        }
    });

    restartBtn.addEventListener("click", function () {
        quizForm.reset();
        currentIndex = 0;
        showQuestion(0);
        nextBtn.style.display = "inline-flex";
        restartBtn.style.display = "none";
        resultDiv.textContent = "";
        resultDetailDiv.textContent = "";
        navHint.textContent = "Antwort auswählen, dann „Weiter“.";
    });

    // Initial
    updateProgress();
    lockNextUntilAnswered();
</script>
</body>
</html>
